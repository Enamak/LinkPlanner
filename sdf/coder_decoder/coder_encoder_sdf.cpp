# include "netxpto_20180418.h"

# include "binary_source_20180118.h"
//# include "hamming_coder.h"
# include "sink_20180118.h"

int main() {

	// #####################################################################################################
	// ########################### Signals Declaration and Inicialization ##################################
	// #####################################################################################################

	Binary S0("S0.sgn");
//	Binary S1("S1.sgn");

	// #####################################################################################################
	// ########################### Blocks Declaration and Inicialization ###################################
	// #####################################################################################################

	BinarySource B1{ vector<Signal*> {}, vector<Signal*> { &S0 } };
	B1.setNumberOfBits(1000);
//	Hamming_Coder B2{ vector<Signal*> { &S0 }, vector<Signal*> { &S1 } };
	Sink B3{ vector<Signal*> { &S0 }, vector<Signal*> {} };

	// #####################################################################################################
	// ########################### System Declaration and Inicialization ###################################
	// #####################################################################################################

	System MainSystem{ vector<Block*> { &B1, &B3 } };

	// #####################################################################################################
	// #################################### System Run #####################################################
	// #####################################################################################################

	MainSystem.run();

	return 0;

}